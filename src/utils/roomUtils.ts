import { error } from "console";
import { retriveRoomById, retrieveUserById } from "./dbutils";

export async function generateJoinCode() {
    let joinCode;
    let attempts = 0;
    const maxAttempts = 10;

    do {
        joinCode = Math.floor(100000 + Math.random() * 900000).toString();
        attempts++;
        if (attempts >= maxAttempts) {
            return {
                error:true
            }
        }
    } while (await retriveRoomById(joinCode));

    return {
        joinCode: joinCode,
        error: false
    }
}

export function generateRandomEmoji() {
    const faces = [
        "😀", "😃", "😄", "😁", "😆", "😅", "😂", "🤣", "😊", "😇",
        "🙂", "🙃", "😉", "😌", "😍", "🥰", "😘", "😗", "😙", "😚",
        "😋", "😜", "😝", "😛", "🤑", "🤗", "🤩", "🤔", "🤨", "😐",
        "😑", "😶", "😏", "😒", "🙄", "😬", "🤥", "😌", "😔", "😪",
        "🤤", "😴", "😷", "🤒", "🤕", "🤢", "🤮", "🥵", "🥶", "😵",
        "🤯", "🤠", "🥳", "😎", "🤓", "🧐", "😕", "😟", "🙁", "☹️",
        "😮", "😯", "😲", "😳", "🥺", "😦", "😧", "😨", "😰", "😥",
        "😢", "😭", "😱", "😖", "😣", "😞", "😓", "😩", "😫", "🥱",
        "😤", "😡", "😠", "🤬", "😈", "👿", "💀", "☠️", "💩", "🤡"
    ];
    const animals = [
        "🐶", "🐱", "🐭", "🐹", "🐰", "🦊", "🐻", "🐼", "🐨", "🐯",
        "🦁", "🐮", "🐷", "🐽", "🐸", "🐵", "🙈", "🙉", "🙊", "🐒",
        "🐔", "🐧", "🐦", "🐤", "🐣", "🐥", "🦆", "🦅", "🦉", "🦇",
        "🐺", "🐗", "🐴", "🦄", "🐝", "🐛", "🦋", "🐌", "🐞", "🐜",
        "🪰", "🪱", "🦂", "🐢", "🐍", "🦎", "🦖", "🦕", "🐙", "🦀",
        "🦞", "🦐", "🦑", "🐠", "🐟", "🐡", "🦈", "🐬", "🐳", "🐋",
        "🦢", "🦩", "🦚", "🦜", "🐓", "🦃", "🦤", "🪶", "🐕", "🐩",
        "🦮", "🐕‍🦺", "🐈", "🐈‍⬛", "🐇", "🐀", "🐁", "🐿️", "🦫", "🦔",
        "🦨", "🦡", "🦥", "🐾", "🦦", "🦨", "🦧", "🦣", "🦥", "🦦",
    ];
    const nature = [
        "🌵", "🎄", "🌲", "🌳", "🌴", "🪵", "🌱", "🌿", "☘️", "🍀",
        "🎍", "🪴", "🎋", "🍃", "🍂", "🍁", "🍄", "🌾", "💐", "🌷",
        "🌹", "🥀", "🌺", "🌸", "🌼", "🌻", "🌞", "🌝", "🌛", "🌜",
        "🌚", "🌕", "🌖", "🌗", "🌘", "🌑", "🌒", "🌓", "🌔", "🌙",
        "🌎", "🌍", "🌏", "🪐", "💫", "⭐", "🌟", "✨", "⚡", "🔥",
        "💥", "☄️", "☀️", "🌤️", "⛅", "🌥️", "☁️", "🌦️", "🌧️", "⛈️",
        "🌩️", "🌨️", "❄️", "☃️", "⛄", "🌬️", "💨", "💧", "💦", "☔",
        "☂️", "🌊", "🌫️"
    ];
    const food = [
        "🍏", "🍎", "🍐", "🍊", "🍋", "🍌", "🍉", "🍇", "🍓", "🫐",
        "🍈", "🍒", "🍑", "🥭", "🍍", "🥥", "🥝", "🍅", "🍆", "🥑",
        "🥦", "🥬", "🥒", "🌶️", "🫑", "🌽", "🥕", "🫒", "🧄", "🧅",
        "🥔", "🍠", "🥐", "🥯", "🍞", "🥖", "🫓", "🥨", "🥞", "🧇",
        "🧀", "🍗", "🍖", "🫛", "🥩", "🥓", "🍔", "🍟", "🍕", "🌭",
        "🥪", "🌮", "🌯", "🫔", "🥙", "🧆", "🥗", "🥘", "🫕", "🍝",
        "🍜", "🍲", "🍛", "🍣", "🍤", "🍱", "🥟", "🦪", "🍢", "🍡",
        "🍧", "🍨", "🍦", "🥧", "🧁", "🍰", "🎂", "🍮", "🍭", "🍬",
        "🍫", "🍿", "🧂", "🥤", "🧋", "🧃", "🧉", "🧊", "🍵", "☕",
        "🫖", "🍺", "🍻", "🥂", "🍷", "🥃", "🍸", "🍹", "🧋", "🧊"
    ];
    const objects = [
        "🎨", "🎭", "🎬", "🎤", "🎧", "🎷", "🎸", "🎹", "🎺", "🎻",
        "🥁", "🪘", "🎲", "🎯", "🎳", "🎮", "🕹️", "🎰", "🧩", "🪀",
        "🪁", "🏆", "🥇", "🥈", "🥉", "🏅", "🎖️", "🔮", "🪄", "🧸",
        "🪅", "🪆", "🎎", "🎏", "🎐", "🧧", "🎀", "🎁", "🎊", "🎉",
        "🎈", "🪄", "📚", "📖", "📓", "🖋️", "📅", "📌", "📍", "✂️",
        "📏", "🔍", "🖥️", "💻", "🖱️", "🖨️", "🕹️", "💡", "🔧", "🔨"
    ];
    const allEmojis = [...faces, ...animals, ...nature, ...food, ...objects];

    return allEmojis[Math.floor(Math.random() * allEmojis.length)];
}